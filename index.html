<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>주급계산기</title>
</head>
<body>
  <div class="form-group">
    <label for="salary">주급을 입력하세요.</label>
    <input type="text" id="salary">
  </div>
  <div class="form-group">
    <label for="select-taxcode">학자금 대출</label>
    <select name="select-taxcode" id="select-taxcode">
      <option value="0">Student loan X</option>
      <option value="1">Student load O</option>
    </select>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script>
    let gross = 0,
        salary = 0;
    const tax1 = 14000;
    const tax2 = 48000;
    const tax3 = 70000;
    const tax4 = 139384;
    const tax5 = 180000;

    $('#salary').change((e) => {
      gross = $(e.currentTarget).val();
      salary = gross*52;

      let tax_percentage = 0,
          add_more = 0,
          taxcode = 0;

      if(salary <= tax1) {
        tax_percentage = 0.1203;

        // (총 금액의 * 0.1203)
      } else if (salary > tax1 && salary <= tax2) {
        tax_percentage = 0.1903,
        add_more = 32.3884;
        taxcode = tax1;

        // ((총금액-14000) * 0.1903)+32.3884
      } else if (salary > tax2 && salary <= tax3) {
        tax_percentage = 0.3153,
        add_more = 156.8153;
        taxcode = tax2;
        // ((총금액의-48000) * 0.3153)+124.4269+32.3884
      } else if (salary > tax3 && salary <= tax4) {
        tax_percentage = 0.3453,
        add_more = 290.2114;
        taxcode = tax3;
        // ((70824-70000)*0.3453/52)+133.3961+124.4269+32.3884
      } else if (salary > tax4 && salary <= tax5) {
        tax_percentage = 0.33,
        add_more = 750.9478;
        taxcode = tax4;
        // ((총금액의-139384) * 0.33) + 460.7364+133.3961+124.4269+32.3884
      } else {
        tax_percentage = 0.39,
        add_more = 1008.7031;
        taxcode = tax5;
        // ((총금액의 - 180000) * 0.39) + 257.7553+460.7364+133.3961+124.4269+32.3884
      }

      console.log('HERE !!! ', ' salary: ', salary, ' Tax: ',tax_percentage, ' Add: ', add_more);
      
      console.log(' RESULT ::::: ', ((salary - taxcode)*tax_percentage/52) + add_more + (gross > 439) ? (gross-439)*0.12 : 0);

    });

    // 1. Employers ( one to multiples )
    // 2. Hourly rate / hours => Calculate
    // 3. Save data
    
  </script>
</body>
</html>